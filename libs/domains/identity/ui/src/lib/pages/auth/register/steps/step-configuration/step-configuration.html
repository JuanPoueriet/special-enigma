<form class="space-y-4" [formGroup]="group">
  <div class="text-center md:text-left mb-6">
    <h3 class="text-lg font-semibold text-text-primary">{{ 'REGISTER.STEPS.CONFIGURATION.TITLE' | translate }}</h3>
    <p class="text-sm text-text-secondary">{{ 'REGISTER.STEPS.CONFIGURATION.SUBTITLE' | translate }}</p>
  </div>

  <!-- Country Selector & Currency Info -->
  <div class="flex flex-col gap-4 mb-4">
    <!-- Country Selector -->
    <div class="form-group">
      <label class="block text-sm font-medium text-text-primary mb-1">
        {{ 'REGISTER.COUNTRY' | translate }}
      </label>
      <div class="relative">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <img [src]="'assets/flags/' + (countryService.currentCountryCode() || 'do').toLowerCase() + '.svg'" class="w-4 h-4 rounded-sm object-cover" (error)="onFlagError($event)">
        </div>
        <select
          formControlName="country"
          (change)="onCountryChange($event)"
          class="pl-10 block w-full rounded-lg border-border-color bg-input-bg text-text-primary shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2"
        >
          <option *ngFor="let c of countries" [value]="c.code">{{ c.name }}</option>
        </select>
      </div>
    </div>

    <!-- Currency Display (Read-Only) -->
    <div class="flex items-center gap-2 text-sm p-3 rounded-lg bg-bg-secondary border border-border-color">
      <span class="text-text-tertiary">{{ 'REGISTER.CURRENCY' | translate }}:</span>
      <span class="font-medium text-text-primary">{{ countryService.currentCountry()?.currencyCode }}</span>
    </div>
  </div>

  <!-- Tax ID -->
  <app-auth-input
    formControlName="taxId"
    [label]="countryService.currentCountry()?.formSchema?.taxId?.label || ('REGISTER.TAX_ID' | translate)"
    [placeholder]="countryService.currentCountry()?.formSchema?.taxId?.placeholder || ''"
    [required]="true"
    [hasIcon]="true"
    [errorMessage]="getTaxIdError()">
    <svg icon xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
  </app-auth-input>

</form>
